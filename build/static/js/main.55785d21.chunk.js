(this["webpackJsonpteam-052-frontend"]=this["webpackJsonpteam-052-frontend"]||[]).push([[0],{113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(14),s=a(22),i=(a(85),a(45)),m=a(53),u=a(24),p=a(25);function d(){var e=Object(u.a)(["\n  width: 33%;\n  color: black;\n  textalign: center;\n"]);return d=function(){return e},e}var g=p.a.div(d()),E={CREATE_REPORT:"/create-report",AUTH_HOME:"/all-reports",SINGLE_REPORT:"/report/:slug",LOGIN:"/login",CREATE_ADMIN:"/create-admin",HOME:"/"},b=a(68),v=a(71),h=Object(n.createContext)({}),f=Object(s.h)((function(e){e.variantColor;var t=e.backgroundColor,a=e.history,c=Object(n.useContext)(h).logoutUser;return r.a.createElement("div",{style:{marginBottom:"0.4%",background:t}},r.a.createElement(i.a,{collapseOnSelect:!0,expand:"lg"},r.a.createElement("div",{style:{width:"40%",fontSize:"1rem"},className:"ml-0"},r.a.createElement(i.a.Brand,null,r.a.createElement(l.b,{style:{color:"black"},to:sessionStorage.getItem("ApiToken")?E.AUTH_HOME:E.HOME},"PROJECT-052"))),r.a.createElement(i.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement("div",{style:{width:"100%"},className:"text-center "},sessionStorage.getItem("ApiToken")?r.a.createElement(m.a,null,r.a.createElement(g,null,r.a.createElement(l.b,{to:E.CREATE_REPORT,style:{color:"beige"}},"Create Report")),r.a.createElement(g,null,r.a.createElement(l.b,{to:E.CREATE_ADMIN,style:{color:"beige"}},"Create Admin")),r.a.createElement(g,null,r.a.createElement(l.b,{to:"",style:{color:"beige"}},"Dummy")),r.a.createElement("div",{className:"logout",onClick:function(){return c(a)}},r.a.createElement(b.a,{icon:v.a}))):r.a.createElement(m.a,null,r.a.createElement(g,null,r.a.createElement(l.b,{to:E.CREATE_REPORT,style:{color:"beige"}},"Create Report")),r.a.createElement(g,null,r.a.createElement(l.b,{to:E.LOGIN,style:{color:"beige"}},"Login")))))))}));function O(){var e=Object(u.a)(["\n  margin-top: 3%;\n  margin-bottom: 3%;\n  width: 100%;\n"]);return O=function(){return e},e}var N=p.a.div(O());function y(){var e=Object(u.a)(["\n// background: #6C757D\n // position: fixed;\n //  left: 0;\n //  bottom: 0;\n //  width: 100%;\n //  color: white;\n //  text-align: center;\n}"]);return y=function(){return e},e}var w=p.a.div(y()),S=function(){return r.a.createElement(w,null,r.a.createElement("footer",{className:"pt-4 my-md-5 pt-md-5 border-top"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md"},r.a.createElement("p",null,"Project-052")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Features")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Resources")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"About")))))},T=a(7),A=a.n(T),j=a(19),C=a(26),x=a(6),R=a(15),k=a(17),_=a.n(k),I="https://team052-api.herokuapp.com/api/v1",L="".concat(I,"/guest/reports"),G="".concat(I,"/reports"),P=function(e,t){var a=t.type,n=t.payload;switch(a){case"LOADING_STARTS":return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case"LOADING_STOPS":return Object(x.a)(Object(x.a)({},e),{},{loading:!1});case"GET_ALL_REPORTS":return Object(x.a)(Object(x.a)({},e),{},{reports:n,loading:!1});case"GET_GUEST_REPORTS":return Object(x.a)(Object(x.a)({},e),{},{guestReports:n,loading:!1});default:return e}},D=a(8),U=function(){var e={name:"",description:"",location:"",loaded:0},t=Object(n.useReducer)(P,{loading:!0,reports:[],guestReports:[]}),a=Object(R.a)(t,2),r=a[0],c=r.reports,o=r.loading,l=r.guestReports,s=a[1],i=Object(n.useState)(e),m=Object(R.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(null),g=Object(R.a)(d,2),E=g[0],b=g[1],v=Object(n.useState)(!1),h=Object(R.a)(v,2),f=h[0],O=h[1],N=function(){var e=Object(j.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOADING_STARTS"}),e.prev=1,e.next=4,_.a.get("".concat(G),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("ApiToken")),"Content-Type":"application/json",Accept:"application/json"}});case 4:(t=e.sent).data&&s({type:"GET_ALL_REPORTS",payload:t.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0&&s({type:"LOADING_STOPS"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOADING_STARTS"}),e.prev=1,e.next=4,_.a.get("".concat(L));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s({type:"LOADING_STARTS"}),!sessionStorage.getItem("ApiToken")){e.next=15;break}return e.prev=2,e.next=5,_.a.get("".concat(G,"?status=").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("ApiToken")),"Content-Type":"application/json",Accept:"application/json"}});case 5:(a=e.sent).data?s({type:"GET_ALL_REPORTS",payload:a.data.data}):(D.b.error("Unable to get reports!"),s({type:"LOADING_STOPS"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),D.b.error("Something went wrong!"),s({type:"LOADING_STOPS"});case 13:e.next=28;break;case 15:return e.prev=15,e.next=18,_.a.get("".concat(L,"?status=").concat(t));case 18:(n=e.sent).data&&s({type:"GET_GUEST_REPORTS",payload:n.data.data}),D.b.error("Something went wrong!"),s({type:"LOADING_STOPS"}),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(15),D.b.error("Something went wrong!"),s({type:"LOADING_STOPS"});case 28:case"end":return e.stop()}}),e,null,[[2,9],[15,24]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var t=Object(j.a)(A.a.mark((function t(a,n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,_.a.post("".concat(G),a);case 4:t.sent.data.message&&(O(!1),D.b.success("Incident Reported!"),p(e),b(null),setTimeout((function(){n.push("/")}),2e3)),O(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),O(!1),D.b.info("Something went wrong!");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,_.a.get("".concat(G,"/").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("ApiToken")),"Content-Type":"application/json",Accept:"application/json"}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(A.a.mark((function e(t,a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={status:a},console.log(n),console.log("".concat(G,"/").concat(t)),e.next=5,_.a.patch("".concat(G,"/").concat(t),n);case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){N(),y().then((function(e){s({type:"GET_GUEST_REPORTS",payload:e.data.data})})).catch((function(){s({type:"LOADING_STOPS"})}))}),[]),{reports:c,loading:o,onReportChange:function(e){var t=e.target,a=t.name,n=t.value;p(Object(x.a)(Object(x.a)({},u),{},Object(C.a)({},a,n)))},report:u,guestReports:l,getFilteredReport:w,createReport:S,onFileChange:function(e){var t=e.target.files;b(t[0])},file:E,loadingReport:f,getReport:T,updateStatus:k}},F=a(12),M=function(e){e.history;var t=U(),a=t.reports,c=t.loading,o=t.getFilteredReport;t.getReport;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"container filter"},r.a.createElement(F.a,null,r.a.createElement(F.a.Toggle,{style:{width:"100%"},variant:"success",id:"dropdown-basic"},"Filter by status"),r.a.createElement(F.a.Menu,null,r.a.createElement(F.a.Item,{onClick:function(){return o("pending")}},"Pending"),r.a.createElement(F.a.Item,{onClick:function(){return o("enroute")}},"Enroute"),r.a.createElement(F.a.Item,{onClick:function(){return o("acknowledged")}},"Acknowledged")))),r.a.createElement("div",{className:"container"},r.a.createElement(N,null,r.a.createElement("div",{className:"row"},c?r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"}):a&&a.length?a.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-md-6 mb-4",style:{width:"18rem"}},r.a.createElement("div",{className:"card shadow"},r.a.createElement("div",{className:"reports-image m-4"},r.a.createElement("img",{src:e.visual_image,className:"card-img-top image"})),r.a.createElement("div",{className:"card-body pt-2"},r.a.createElement("p",{className:"card-title text-center"},r.a.createElement(l.b,{to:{pathname:"/report/".concat(e.title.replace(/ /g,"-").toLowerCase()),state:{report:e}}},r.a.createElement("strong",{className:"report-title"},e.title))),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"STATUS"),": ",r.a.createElement("span",{className:"text-info"},e.status),r.a.createElement("span",{className:"text-right ml-auto"},e.location)))))})):"no reports")),r.a.createElement(S,null))))},H=function(e){var t=e.history,a=Object(n.useContext)(h),c=a.report,o=a.createReport,l=a.onReportChange,s=a.onFileChange,i=a.file,m=a.loadingReport,u=c.location,p=c.name,d=c.description;c.loaded;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement("div",{style:{width:"50%"},className:"container mt-3 pt-3 pb-3 shadow"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;a.append("visual_image",i),a.append("location",u),a.append("title",p),a.append("note",d),o(a,t)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("input",{name:"name",value:p,onChange:l,type:"text",className:"form-control",placeholder:"Title example; severe accident at ojota"})),r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("textarea",{className:"form-control",name:"description",value:d,onChange:l,id:"exampleFormControlTextarea1",rows:3,placeholder:"Short description of the incident"})),r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("input",{type:"file",name:"file",onChange:s,className:"form-control"})),r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("input",{name:"location",value:u,onChange:l,type:"text",className:"form-control",placeholder:"Location e.g Lekki Epe"}))),r.a.createElement("div",{className:"text-center"},m?r.a.createElement("button",{disabled:m,type:"submit",className:"btn btn-success btn-lg"},"Reporting..."):r.a.createElement("button",{disabled:!(u.length>0&&null!==i),type:"submit",className:"btn btn-success btn-lg"},"Submit")))),r.a.createElement(D.a,null))},B=function(e){var t=e.history,a=e.location,c=Object(n.useContext)(h),o=c.onChange,l=c.login,s=c.loginUser,i=c.loadingLogin,m=l.email,u=l.password;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement("div",{className:"container mt-3 pt-3 pb-3 login-container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(l,t,a)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("input",{type:"email",name:"email",value:m,onChange:o,className:"form-control",placeholder:"Enter email"})),r.a.createElement("div",{className:"col-12 mb-5"},r.a.createElement("input",{type:"password",name:"password",value:u,onChange:o,className:"form-control",placeholder:"Enter password"}))),r.a.createElement("div",{className:"text-center"},i?r.a.createElement("button",{disabled:i,type:"submit",className:"btn btn-success btn-lg"},"Submitting..."):r.a.createElement("button",{disabled:!(m.length>0&&u.length>0),type:"submit",className:"btn btn-success btn-lg"},"Submit")))),r.a.createElement(D.a,null))},Y=a(123),z=a(122),J=a(75),W=a.n(J),$=function(){return r.a.createElement("div",null,r.a.createElement(z.a,{src:W.a,alt:"",width:"100%",height:"250"}))},q=function(e){var t=e.history,a=Object(n.useContext)(h),c=a.admin,o=a.createAdminChange,l=a.createAdmin,s=a.creatingAdmin,i=c.name,m=c.email,u=c.password;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement($,null),r.a.createElement("div",{className:"container form"},r.a.createElement(Y.a,{onSubmit:function(e){e.preventDefault(),l(c,t)}},r.a.createElement(Y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Y.a.Label,{className:"form-label"},"Name"),r.a.createElement(Y.a.Control,{name:"name",value:i,onChange:o,type:"text",placeholder:"Name"})),r.a.createElement(Y.a.Label,null,"Email"),r.a.createElement(Y.a.Control,{name:"email",value:m,onChange:o,type:"email",placeholder:"Enter email"})),r.a.createElement(Y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Y.a.Label,null,"Password"),r.a.createElement(Y.a.Control,{name:"password",value:u,onChange:o,type:"password",placeholder:"Password"})),r.a.createElement("div",{className:"submit-container"},s?r.a.createElement("button",{disabled:s,className:"button"},"Creating Admin..."):r.a.createElement("button",{className:"button",disabled:!(m.length>0&&u.length>0&&u.length)},"Create Admin"))),r.a.createElement(D.a,null)))},K=a(78),Q=function(e){var t=e.component,a=Object(K.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("ApiToken")?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},V=function(){var e=U(),t=e.guestReports,a=e.loading,c=e.getFilteredReport;return r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"container filter"},r.a.createElement(F.a,null,r.a.createElement(F.a.Toggle,{style:{width:"100%"},variant:"success",id:"dropdown-basic"},"Filter by status"),r.a.createElement(F.a.Menu,null,r.a.createElement(F.a.Item,{onClick:function(){return c("pending")}},"Pending"),r.a.createElement(F.a.Item,{onClick:function(){return c("enroute")}},"Enroute"),r.a.createElement(F.a.Item,{onClick:function(){return c("acknowledged")}},"Acknowledged")))),r.a.createElement("div",{className:"container "},r.a.createElement(N,null,r.a.createElement("div",{className:"row"},a?r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"}):t&&t.length?t.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-md-6 mb-4",style:{width:"18rem"}},r.a.createElement("div",{className:"card shadow"},r.a.createElement("div",{className:"reports-image m-4"},r.a.createElement("img",{src:e.visual_image,className:"card-img-top image"})),r.a.createElement("div",{className:"card-body pt-2"},r.a.createElement("p",{className:"card-title text-center"},r.a.createElement("strong",null,e.title)),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"STATUS"),": ",r.a.createElement("span",{className:"text-info"},e.status),r.a.createElement("span",{className:"text-right ml-auto"},e.location)))))})):"no reports")))))};function X(){var e=Object(u.a)(["\n  margin: auto;\n  width: 59%;\n"]);return X=function(){return e},e}var Z=p.a.div(X()),ee=a(52),te=a.n(ee),ae=function(e){var t=e.history,a=Object(n.useState)({}),c=Object(R.a)(a,2),o=c[0],l=c[1],i=U().updateStatus,m=Object(s.g)();return Object(n.useEffect)((function(){if(m.state&&m.state.report){var e=m.state.report;console.log(e),l(e)}else t.push("/all-reports")}),[m]),r.a.createElement(n.Fragment,null,r.a.createElement(f,{backgroundColor:"rgb(1, 136, 73)",variantColor:"light"}),r.a.createElement("div",{className:"container"},r.a.createElement(Z,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{key:o.id,className:"col-md-12 mb-4",style:{width:"18rem"}},r.a.createElement("div",{className:"card",style:{border:"white"}},r.a.createElement("div",{className:"reports-image m-4"},r.a.createElement("img",{src:"https://via.placeholder.com/150",className:"card-img-top image"})),r.a.createElement("div",{className:"card-body pt-2"},r.a.createElement("p",{className:"card-title text-center"},r.a.createElement("strong",null,o.title)),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"STATUS"),"- ",r.a.createElement("span",{className:"text-info"},o.status),r.a.createElement("select",{onChange:function(e){return i(o.id,e.target.value)},className:"update-status"},r.a.createElement("option",null,"Update Status"),r.a.createElement("option",{value:"pending"},"Pending"),r.a.createElement("option",{value:"acknowledged"},"Acknowledged"),r.a.createElement("option",{value:"enroute"},"Enroute"))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Location"),"- ",r.a.createElement("span",{className:"text-info"},o.location)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Time Reported")," -",r.a.createElement(te.a,{format:"YYYY-MM-DD"},o.time_of_report)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Time Updated")," -",r.a.createElement(te.a,{format:"YYYY-MM-DD"},o.status_updated_at))))))))))},ne=function(){return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(Q,{exact:!0,path:E.AUTH_HOME,component:M}),r.a.createElement(s.b,{exact:!0,path:E.HOME,component:V}),r.a.createElement(s.b,{exact:!0,path:E.CREATE_REPORT,component:H}),r.a.createElement(s.b,{exact:!0,path:E.LOGIN,component:B}),r.a.createElement(Q,{exact:!0,path:E.CREATE_ADMIN,component:q}),r.a.createElement(Q,{exact:!0,path:E.SINGLE_REPORT,component:ae})))},re=(a(113),a(114),"".concat(I,"/auth/login")),ce="".concat(I,"/auth/logout"),oe=function(e,t){switch(t.type){case"LOADING_STARTS":return Object(x.a)(Object(x.a)({},e),{},{loadingLogin:!0});case"LOADING_STOPS":return Object(x.a)(Object(x.a)({},e),{},{loadingLogin:!1});default:return e;case"LOGIN_USER":return Object(x.a)(Object(x.a)({},e),{},{loadingLogin:!0})}},le=function(){var e=Object(n.useReducer)(oe,{loadingLogin:!1}),t=Object(R.a)(e,2),a=t[0].loadingLogin,r=t[1],c=Object(n.useState)({email:"",password:""}),o=Object(R.a)(c,2),l=o[0],s=o[1];return{onChange:function(e){var t=e.target,a=t.name,n=t.value;s(Object(x.a)(Object(x.a)({},l),{},Object(C.a)({},a,n)))},login:l,loginUser:function(){var e=Object(j.a)(A.a.mark((function e(t,a,n){var c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.state?n.state.from.pathname:"".concat(E.AUTH_HOME),r({type:"LOGIN_USER"}),e.prev=2,e.next=5,_.a.post("".concat(re),t);case 5:"login successful"===(o=e.sent).data.message&&(sessionStorage.setItem("ApiToken",o.data.data.api_token),a.push(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&e.t0.response.data.errors?(r({type:"LOADING_STOPS"}),D.b.error("Invalid credentials")):r({type:"LOADING_STOPS"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),loadingLogin:a,logoutUser:function(){var e=Object(j.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(ce));case 3:"logout successful"===e.sent.data.message&&(sessionStorage.removeItem("ApiToken"),t.push("".concat(E.HOME))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D.b.error("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},se="".concat(I,"/users"),ie=function(){var e=Object(n.useState)({name:"",email:"",password:"",admin_role:"superadmin"}),t=Object(R.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(R.a)(c,2),l=o[0],s=o[1];return{admin:a,createAdmin:function(){var e=Object(j.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,_.a.post("".concat(se),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("ApiToken"))}});case 4:"created"===e.sent.data.message&&(s(!1),a.push("/admin-users")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response.data.errors&&"object"===typeof e.t0.response.data.errors.email&&D.b.info("Email already exists"),"unauthorized."===e.t0.response.data.message&&(D.b.info("Token Expired!"),setTimeout((function(){a.push("login")}),2e3)),s(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),createAdminChange:function(e){var t=e.target,n=t.name,c=t.value;r(Object(x.a)(Object(x.a)({},a),{},Object(C.a)({},n,c)))},creatingAdmin:l}},me=function(e){var t=e.children,a=h.Provider,n=U(),c=n.reports,o=n.loading,l=n.report,s=n.createReport,i=n.onReportChange,m=n.onFileChange,u=n.file,p=n.loadingReport,d=le(),g=d.onChange,E=d.login,b=d.loginUser,v=d.loadingLogin,f=d.logoutUser,O=ie(),N=O.admin,y=O.createAdminChange,w=O.createAdmin,S=O.creatingAdmin;return r.a.createElement(a,{value:{reports:c,loading:o,report:l,onChange:g,login:E,loginUser:b,loadingLogin:v,admin:N,createAdminChange:y,createAdmin:w,creatingAdmin:S,logoutUser:f,createReport:s,onReportChange:i,onFileChange:m,file:u,loadingReport:p}},t)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){}))},75:function(e,t,a){e.exports=a.p+"static/media/clean accident image .dce0dcc3.jpg"},80:function(e,t,a){e.exports=a(115)}},[[80,1,2]]]);
//# sourceMappingURL=main.55785d21.chunk.js.map